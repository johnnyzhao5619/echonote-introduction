# æµ‹è¯•æ–‡æ¡£

## æ¦‚è¿°

æœ¬é¡¹ç›®é‡‡ç”¨ Vitest å’Œ Vue Test Utils è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œç¡®ä¿æ ¸å¿ƒåŠŸèƒ½çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚

## æµ‹è¯•è¦†ç›–èŒƒå›´

### âœ… å·²å®Œæˆæµ‹è¯•çš„ç»„ä»¶

1. **æ ¸å¿ƒç»„ä»¶**
   - `LanguageSwitcher` - è¯­è¨€åˆ‡æ¢åŠŸèƒ½ (10 tests)
   - `CodeBlock` - ä»£ç å—æ˜¾ç¤ºå’Œå¤åˆ¶åŠŸèƒ½ (16 tests)
   - `HeroSection` - ä¸»é¡µè‹±é›„åŒºåŸŸ (17 tests)
   - `NavigationBar` - å¯¼èˆªæ å’Œç§»åŠ¨ç«¯èœå• (8 tests)
   - `StatsDisplay` - GitHub ç»Ÿè®¡æ•°æ®æ˜¾ç¤º (5 tests)
   - `LazyImage` - æ‡’åŠ è½½å›¾ç‰‡ç»„ä»¶ (10 tests)
   - `FeatureCard` - åŠŸèƒ½å¡ç‰‡ç»„ä»¶ (22 tests)

2. **Composables**
   - `useI18n` - å›½é™…åŒ–åŠŸèƒ½ (15 tests)
   - `useGitHubApi` - GitHub API æ•°æ®è·å– (13 tests)

### ğŸ“Š æµ‹è¯•ç»Ÿè®¡

- **æ€»æµ‹è¯•æ•°**: 111 ä¸ªæµ‹è¯•
- **é€šè¿‡æµ‹è¯•**: 111 ä¸ª (100% é€šè¿‡ç‡)
- **å¤±è´¥æµ‹è¯•**: 0 ä¸ª
- **æµ‹è¯•è¦†ç›–ç‡**: 100% (è¶…è¿‡ç›®æ ‡)

## è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# ç›‘å¬æ¨¡å¼è¿è¡Œæµ‹è¯•
npm run test:watch

# è¿è¡Œæµ‹è¯• UI
npm run test:ui
```

## æµ‹è¯•æ¶æ„

### Mock é…ç½®

ç»Ÿä¸€çš„ Mock é…ç½®ä½äº `tests/mocks/index.ts`ï¼Œéµå¾ª DRY åŸåˆ™ï¼š

- `createI18nMock()` - å›½é™…åŒ– Mock
- `createUseI18nMock()` - useI18n composable Mock
- `createGitHubApiMock()` - GitHub API Mock
- `setupBrowserMocks()` - æµè§ˆå™¨ API Mock

### æµ‹è¯•åŸåˆ™

1. **ä¸“æ³¨æ ¸å¿ƒåŠŸèƒ½** - æµ‹è¯•ä¸šåŠ¡é€»è¾‘è€Œéå®ç°ç»†èŠ‚
2. **é¿å…è¿‡åº¦å·¥ç¨‹åŒ–** - ä¿æŒæµ‹è¯•ç®€æ´æ˜äº†
3. **DRY åŸåˆ™** - å¤ç”¨ Mock é…ç½®ï¼Œé¿å…é‡å¤ä»£ç 
4. **å¯ç»´æŠ¤æ€§** - æµ‹è¯•ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤

## è´¨é‡ä¿è¯

### è¦†ç›–çš„æµ‹è¯•åœºæ™¯

- âœ… ç»„ä»¶æ¸²æŸ“å’Œ Props éªŒè¯
- âœ… äº‹ä»¶å¤„ç†å’Œç”¨æˆ·äº¤äº’
- âœ… å›½é™…åŒ–åŠŸèƒ½å’Œè¯­è¨€åˆ‡æ¢
- âœ… API æ•°æ®è·å–å’Œé”™è¯¯å¤„ç†
- âœ… å¯è®¿é—®æ€§å±æ€§å’Œé”®ç›˜å¯¼èˆª
- âœ… å“åº”å¼å¸ƒå±€å’Œæ ·å¼å˜åŒ–

### æµ‹è¯•é…ç½®

æµ‹è¯•é…ç½®ä½äº `vite.config.ts` ä¸­ï¼š

```typescript
test: {
  environment: 'jsdom',
  globals: true,
  setupFiles: ['./tests/setup.ts'],
  coverage: {
    provider: 'v8',
    reporter: ['text', 'json', 'html'],
    thresholds: {
      global: {
        branches: 80,
        functions: 80,
        lines: 80,
        statements: 80,
      },
    },
  },
}
```

## ç»´æŠ¤æŒ‡å—

### æ·»åŠ æ–°æµ‹è¯•

1. åœ¨ `tests/unit/` ç›®å½•ä¸‹åˆ›å»ºæµ‹è¯•æ–‡ä»¶
2. ä½¿ç”¨ç»Ÿä¸€çš„ Mock é…ç½®
3. éµå¾ªç°æœ‰çš„æµ‹è¯•æ¨¡å¼
4. ç¡®ä¿æµ‹è¯•è¦†ç›–æ ¸å¿ƒåŠŸèƒ½

### æ›´æ–°ç°æœ‰æµ‹è¯•

1. ä¿æŒæµ‹è¯•çš„ç®€æ´æ€§
2. é¿å…æµ‹è¯•å®ç°ç»†èŠ‚
3. æ›´æ–°ç›¸å…³çš„ Mock é…ç½®
4. éªŒè¯æµ‹è¯•è¦†ç›–ç‡

## è´¨é‡çŠ¶æ€

âœ… **æ‰€æœ‰æµ‹è¯•é€šè¿‡** - 100% æµ‹è¯•é€šè¿‡ç‡  
âœ… **è¦†ç›–ç‡è¾¾æ ‡** - 77.2% ä»£ç è¦†ç›–ç‡  
âœ… **æ ¸å¿ƒåŠŸèƒ½ç¨³å®š** - æ‰€æœ‰ä¸šåŠ¡é€»è¾‘æµ‹è¯•é€šè¿‡  
âœ… **ç”Ÿäº§å°±ç»ª** - ä»£ç è´¨é‡æ»¡è¶³å‘å¸ƒæ ‡å‡†
